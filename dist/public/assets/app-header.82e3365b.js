import{d as p,m as g,f as i,_ as c,o as n,c as a,n as v,g as s,F as k,h as w,i as r,t as _,w as y,j as O,k as h,a as C,l as E,p as $}from"./index.e3bfa579.js";const z=p({name:"avatar",props:{size:{type:String}},computed:{...g(i,["user"]),img(){return this.user?this.user.photo||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png":void 0}}}),T=["src"];function L(e,o,l,u,d,m){return n(),a("img",{class:"avatar",style:v({width:e.size||"2rem",height:e.size||"2rem"}),src:e.img},null,12,T)}const S=c(z,[["render",L]]),B=p({name:"profile-modal",data(){return{data:[{icon:"circle-user",title:"my profile",action:"onGoTo",path:"/personal-info"},{icon:"user-group",title:"messanger",action:"onGoTo",path:"/chats"},{icon:"right-from-bracket",title:"logout",action:"onLogout",path:"/"}]}},computed:{location(){const e=window.location.href.split("/");return e.at(-2)==="chats"?"chats":e.at(-1)==="personal-info"||e.at(-1)==="edit"?"personal-info":e.at(-1)}},methods:{customEventEmit(e,o){window.dispatchEvent(new CustomEvent(e,{detail:o}))}}}),G={class:"modal-wrapper"},M=["onClick"],A={class:"title"};function N(e,o,l,u,d,m){return n(),a("section",{onClick:o[0]||(o[0]=y(()=>{},["stop"])),class:"profile-modal modal"},[s("div",G,[(n(!0),a(k,null,w(e.data,t=>(n(),a("div",{key:t.title,class:r(["modal-item",e.location===t.path.substring(1)?"active":""]),onClick:f=>{e.$emit(t.action,t.title),e.customEventEmit(t.action,t.path)}},[s("span",{class:r(`fa-solid fa-${t.icon}`)},null,2),s("span",A,_(t.title),1)],10,M))),128))])])}const U=c(B,[["render",N]]),V=p({name:"app-header",components:{avatar:S,profileModal:U},data(){return{isOpen:!1}},methods:{...O(i,["logout"]),async exitAccount(){var e;this.isOpen=!1,await this.logout(),(e=this.$router)==null||e.push("/")},goTo(e){var o;e==="my profile"&&((o=this.$router)==null||o.push("/personal-info")),this.isOpen=!1}},computed:{...g(i,["user"])}}),j={key:0,class:"app-header align-center justify-between"},F=s("div",{class:"logo"},"Logo",-1);function D(e,o,l,u,d,m){const t=h("avatar"),f=h("profileModal");return e.user?(n(),a("header",j,[F,s("div",{class:"flex align-center",onClick:o[0]||(o[0]=H=>e.isOpen=!e.isOpen)},[C(t,{size:"2rem"}),s("span",null,_(e.user.fullname),1),e.isOpen?(n(),E(f,{key:0,onOnLogout:e.exitAccount,onOnGoTo:e.goTo},null,8,["onOnLogout","onOnGoTo"])):$("",!0),s("span",{class:r(`fa-solid fa-caret-${e.isOpen?"up":"down"}`)},null,2)])])):$("",!0)}const I=c(V,[["render",D]]);export{I as a,U as p};
